# 实验8　指针

一、实验目的

1.掌握指针和间接访问的概念，会定义和使用指针变量。

2.掌握数组的指针和指向数组的指针变量。

3.能正确使用字符串指针和指向字符串的指针变量。

4.了解指向指针的指针。

三、实验内容

1．写出下面程序的预期结果。上机输入并运行下面程序，验证你的结果并分析。

```c

#include <stdio.h>

int main()

{
int a[]={1,2,3};

int *p,i;

p=a;

for(i=0;i<3;i++)

printf("%d,%d,%d,%d\n",a[i],p[i],*(p+i),*(a+i));

return 0;

}

2.以下程序功能为：从键盘上输入3个整数，用指针法对3个整数排序并输出。请填空。

```c
#include <stdio.h>

int main()

{void swap (int *pt1,int *pt2);

int a,b,c;

int *p1,*p2,*p3;

printf("请输入三个数a,b,c:");

scanf("%d,%d,%d",&a,&b,&c);

p1=&a;p2=&b;p3=&c;

if (a>b) swap(p1,p2);

if (a>c) swap(p1,p3);

if (b>c) swap(p2,p3);

printf("排序后的三个数为：%d,%d,%d\n",a,b,c);

return 0;

}

void swap(int *pt1,int *pt2)

{int p;

________________;

________________;

________________;

}
```

3.以下程序的功能为：从键盘输入3×3整型矩阵元素，用函数实现3×3整型矩阵转置。上机输入并调试下面程序，根据程序及运行结果，理解通过指针变量引用数组元素的方法及编程技巧。

```c
#include <stdio.h>

int main()

{
    void move(int *pointer);

    int a[3][3],*p,i,j;

    printf("请输入数组矩阵元素：\n");

    for (i=0;i<3;i++)

        for (j=0;j<3;j++)

​           scanf("%d",&a[i][j]);

    p=&a[0][0];

    move(p);

    printf("转置后的矩阵为：\n");

    for (i=0;i<3;i++)

    {
        for (j=0;j<3;j++)
            printf("%d ",a[i][j]);
            printf("\n"); 
    }
return 0;

}

void move(int *pt)

{int i,j,t;

 for (i=0;i<3;i++)

​    for (j=i;j<3;j++)

​    {t=*(pt+3*i+j);

​    *(pt+3*i+j)=*(pt+3*j+i);

​    *(pt+3*j+i)=t;

​    }

}
```

在此基础上，完成以下2项任务：

（1）上面程序中数组元素输入和输出采用了下标法，将其改为指针变量法。

（2）上面程序中move函数的形参是指向数组元素的指针变量，现要求将形参改为指向一维数组的指针变量。修改程序后，调试运行程序，保证结果正确。

4.写一函数，求一个字符串的长度。在main函数中输入字符串，并输出其长度。

分别在程序中按以下两种情况处理：

（1）函数形参用数组名。

（2）函数形参用指针变量。

作分析比较，掌握其规律。

5.将一个5×5矩阵中最大的元素放在中心，最小的元素放在左上角，写一函数实现之。并用main函数调用。
